<!DOCTYPE html>
<html>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Agar</title>

<div id="wrapper">
  <!-- paragraph tags clutch for lining up box with button -->
<h1>Current mass:</h1> <p><input class="box" type="text" id="mass"></p>
  <button id="button" onclick="start()">Start Timer</button><br>
<!-- <br><br> -->
<div id="status"></div>
<div id="done"></div>
</div>
<style>

#button {
    width: 7em;  height: 4em;
}

.box {
text-align: center; width: 7em;  height: 2em;
  }

#wrapper {

  text-align: center;
  width: 100%;     /* specify a width! */
  margin: 0 auto; /* center */
}
</style>
<script>

// issues:
/*

won't keep counting on mobile if minimized or locked
attempts simultaneous countdowns if you press start multiple times
should fundamentally be automatic in-game if possible
hard to get to url in mobile; app would be better
not beautiful

*/

// credit https://www.developphp.com/video/JavaScript/Countdown-Timer-Tutorial-setTimeout-clearTimeout
function countDown(secs,elem) {
  var element = document.getElementById(elem);
  element.innerHTML = '<h1>' + secs + '</h1>';
  if(secs < 1) {
    clearTimeout(timer);
    document.getElementById("done").innerHTML = '<h1>Merge!</h1>';
    document.getElementById("status").innerHTML="";
    // element.innerHTML += '<button onclick="reset()">Reset</button>';
    // document.getElementById("wrap").innerHTML = '';
  }
  if (secs >= 1) {
  secs--;
  var timer = setTimeout('countDown('+secs+',"'+elem+'")',1000);
}
  

}

function reset() {
location.reload();
}


function start() {

  document.getElementById("status").innerHTML="";
  document.getElementById("done").innerHTML = '';
countDown(Math.round(30+(7/300)*document.getElementById("mass").value),"status");
  }
</script>



</html>