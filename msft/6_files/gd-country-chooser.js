!function e(o,n,t){function i(s,d){if(!n[s]){if(!o[s]){var f="function"==typeof require&&require;if(!d&&f)return f(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var a=n[s]={exports:{}};o[s][0].call(a.exports,function(e){var n=o[s][1][e];return i(n?n:e)},a,a.exports,e,o,n,t)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<t.length;s++)i(t[s]);return i}({1:[function(e,o,n){o.exports=e("./lib/modules/site-header/country-chooser")},{"./lib/modules/site-header/country-chooser":2}],2:[function(e,o,n){function t(){if(GD.page.countryChooser&&"menuItem"===GD.page.countryChooser.uiType){var e=$("body"),o=$("<div id='CountryChooserMenu' class='bar-menu right'><i class='beak'></i></div>"),n=$("#CountryChooserContents"),t=e.is(".mobileDevice"),r=e.is(".tablet"),s=e.is(".desktop"),d=n.find(".flex-grid"),f=$("#PageTop"),u="442px",a="250px";if(n.find(".countryPickerClass").on("click",function(e){var o=$(this);$.ajax(GD.util.addCorsOptions({url:window.location.protocol+"//"+o.attr("dotComBaseUrl")+"/profile/ajax/countryPickerRedirectAjaxAction.htm",data:{tldId:o.attr("id")},complete:function(){GD.util.loadUrl(o.attr("href"))}})),e.preventDefault()}),!$("#PageTop > #CountryChooserMenu").length){var l,c=o,h=$("#I18nRedirectMsg");h.length&&(l=$("<div id='I18nRedirectTooltip' class='bar-menu right'><i class='beak'></i><button class='close mfp-close'>x</button></div>"),l.prepend(h.find(".flex-grid")),f.append(l),h.remove(),c=c.add(l)),o.prepend(d),f.append(o),n.remove();var g=$("#PageTop").find("span.countryChooser"),p=g.closest(".menuLink"),v=g.closest("nav");s||r?(c.width(u),c.find(".flex-grid").css("max-height","none"),c.find(".flex-grid").css("overflow","none")):t&&(c.width("100%"),c.find(".flex-grid").css("max-height",$(window).height()-v.height()),c.find(".flex-grid").css("overflow","auto")),i.initDropdown(p,o,v);var w,x;w=p,x=v,i.setMenuPos(x,o,w),l&&(i.setMenuPos(x,l,w),l.css("height","auto"),i.showMenu(w,x,l,!0),l.on("click press",function(){l.hide()}),$("body").one("menuOpen",function(){l.hide()}),$(window).one("resize",function(){l.hide()})),$(window).on("flex",function(e,o){c.each(function(){var e=$(this);"handheld"===o?(e.width(a),e.find(".flex-grid").css("max-height",$(window).height()-v.height()),e.find(".flex-grid").css("overflow","auto"),i.setMenuPos(v,e,p)):(e.width(u),e.find(".flex-grid").css("max-height","none"),e.find(".flex-grid").css("overflow","none"),i.setMenuPos(v,e,p))})})}}else $(".tldSelect").on("change",function(){window.location.href=$(this).val()})}var i=e("gd-header/dropdowns");o.exports={initCountryUrlChooser:t},$(function(){t()})},{"gd-header/dropdowns":3}],3:[function(e,o,n){o.exports=e("./lib/gd-site-hdr-dropdown")},{"./lib/gd-site-hdr-dropdown":4}],4:[function(e,o,n){function t(e,o,n){var t,i="fixed",r=10,s={},d="fixed"===$("#PageTop .nav-background").css("position"),f=$(window).width(),u=$(window).height(),a=n&&n.offset()?n.offset().top:0,l=e.find("nav");(!l||l.length<=0)&&(l=e);var c=l&&0!=l.length?l.offset().top:0,h=l.height()+c,g=n.length?a-c+n.outerHeight()+("inline"===n.css("display")?14:0):h;if(s.position="absolute",s.top=g,d&&(s.position=i),GD.flex.getCurrFF()===GD.flex.HANDHELD){t=0;var p=o.height()>u+h;p&&o.css("overflow","auto"),o.width(f),o.height(u-g)}else{var v=n.offset().left+o.width()>e.offset().left+e.width();t=v?n.offset().left+n.width()-o.width()+14:n.offset().left-14}s.left=t,o.css(s);var w=o.find("i.beak"),x=0,m=o.css("border-width"),D=m&&""!==m?parseInt(o.css("border-width"),r):0;if(w.length){var b=n.closest(".menuLink"),C=b.offset(),y=b.outerWidth(),k=C.left-t+y/2-D,G=x-D;w.css({left:k,top:G,"margin-left":0})}}function i(e,o,n,t){var i=e.closest(".menuLink");t?(n.fadeIn(d),i.addClass("activeHeaderLink")):(n.fadeOut(d),i.removeClass("activeHeaderLink"))}function r(e,o,n){function r(){t(n,o,e)}function d(){h&&clearTimeout(h),h=setTimeout(function(){f.trigger("menuOpen")},200)}if(e&&0!==e.length){var f=$("body"),u=$(window),a=e.closest("nav"),l=o,c=o.find("i.beak"),h=null;n=n&&n.length?n:a,0===c.length&&o.append("<i class='beak'></i>");var g="mouseenter";GD.flex.getCurrFF()===GD.flex.HANDHELD&&(g="click tap"),e.on(g,function(o){GD.flex.getCurrFF()===GD.flex.HANDHELD&&l.is(":visible")?i(e,n,l,!1):(r(),l.on("mouseleave",function(){setTimeout(function(){s(e)||s(l)||i(e,n,l,!1)},50)}),i(e,n,l,!0),f.trigger("menuOpen",l)),o.stopPropagation()}),GD.flex.getCurrFF()===GD.flex.HANDHELD?f.on("click",function(o){$(o.target).is(".hdrDropdown")||i(e,n,l,!1)}):e.on("mouseleave",function(){setTimeout(function(){s(l)||s(e)||i(e,n,l,!1)},50)}),f.on("menuOpen",function(o,t){l.is(t)||i(e,n,l,!1)}),u.on("resize",function(){d()})}}function s(e){return e?e.is(":hover")||e.find(":hover").length>0:!1}o.exports={setMenuPos:t,showMenu:i,initDropdown:r,isMouseOver:s};var d=200},{}],5:[function(e,o,n){o.exports=e("gd-modules/country-chooser")},{"gd-modules/country-chooser":1}]},{},[5]);
//# sourceMappingURL=gd-country-chooser.js.map
