!function e(t,n,o){function a(r,u){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!u&&c)return c(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[r]={exports:{}};t[r][0].call(s.exports,function(e){var n=t[r][1][e];return a(n?n:e)},s,s.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}({1:[function(e,t,n){function o(e,t,n,o){function a(e,t,n,o){var a=e.find("option:selected"),i=a.data("placeholder"),r=a.data("subtitle"),u=a.data("zipcodesOk");GD.shim.setPlaceholder(e.find("input.keyword"),i),GD.shim.setPlaceholder(e.find("input.loc"),GD.i18n.msg("siteSearchLocPlaceholder")),e.data("zipcodesOk",u);var c=e.find("input.keyword"),l=e.find("input.loc"),s=$("#RcntSrch");o||("/Job/jobs.htm"===t?(c.autocomplete("instance")&&c.autocomplete("enable"),n&&l.autocomplete("enable"),parseInt(s.data("size"),10)>0&&($(".subtitle").fadeOut("fast"),s.slideDown("slow"))):(c.autocomplete("instance")&&c.autocomplete("option","disabled","true"),n&&l.autocomplete("option","disabled","true"),$(".subtitle").fadeIn("fast"),s.slideUp("fast"))),r&&$("#SiteSrchTop.banner p.subtitle").html(r),e.attr("action",t)}function i(){var e,t=$("form.siteSrchForm"),n=$("input.loc",t),o=$("input.locType",t),a=$("input.locId",t),i=n.data("srchType");e="popular"===i?l:c;var r=GD.util.getAjaxUrlRespectingSecurity(e),u={minLength:2,delay:80,source:function(e,t){$.getJSON(r+"?maxLocationsToReturn=10",{term:e.term},function(e){t($.map(e,function(e){var t=e.locationType+"_"+e.locationId;return{label:e.label,value:t}}))})},create:function(){var e=n.autocomplete("instance");n.addClass("glassdoorAC"),e.menu.element.addClass("location-ac-results"),e.menu.element.attr("id","LocText_ACPopup")},focus:function(e,t){var n=t.item.value.split("_"),i=n[0],r=n[1];return o.val(i),a.val(r),!1},select:function(e,t){var i=t.item.value.split("_"),r=i[0],u=i[1];return o.val(r),a.val(u),n.val(t.item.label),!1},open:function(){var e=$("#LocText_ACPopup",t);return e.addClass("ui-autocomplete-opened locTermAC"),!0},close:function(){n.removeClass("ui-autocomplete-opened")}};n.length>0&&(n.autocomplete(u).autocomplete("instance")._renderItem=function(e,t){return GD.ac.fmtAC(n,e,t)})}function r(e){var t=e.find("input.keyword"),n=e.find("input.loc");if(!n.val()&&!t.val())return void 0!==o&&""!==o&&n.val(o),!1;var a=!0;return jQuery.isFunction(e[0].onsubmit)&&(a=e[0].onsubmit()),a&&e.submit(),!1}function u(e,t){return 13===e.keyCode?(GD.util.wait().then(function(){r(t)}),!1):!0}var c="/findAnyLocationAjax.htm",l="/findPopularLocationAjax.htm",s=$("body").is(".part");n&&!s&&i(),e=e&&e.length?e.not(".ready"):$("form.siteSrchForm").not(".ready"),e.length&&e.each(function(){var e=$(this),o=e.is(".handheld");if(s||o)e.find("select.std").on("change",function(){var t=$(this);a(e,t.val(),n,!0)});else{var i={};i.onchange=function(t){var o=$(t.target);a(e,o.val(),n,!1)},e.find("select.std").selectify(i)}e.find("input[type=text]").on("keypress",function(t){return u(t,e)});var c=e.find("input.loc"),l=e.find("input.locType"),d=e.find("input.locId"),p=c.outerHeight()+2,f=c.outerWidth()-2,m=function(){return r(e)};GD.srch.initLocDisambig(c,{locType:l,locId:d,disambigParent:c,top:p,left:4,width:f,scrollToPanel:!1,pickBestMatch:t||s||o,doFormSubmit:m}),e.find("button.gd-btn").on("click",function(){r(e)}),e.addClass("ready")})}function a(e){var t=$("body").is(".part");if(!t){var n="JOBS"!==e,o=$("form.siteSrchForm");o.each(function(){var e="#"+$(this).parent().attr("id"),t=$(e),o=!1,a=$("input.typedKey",t),i=$("input.keyword",t);i.on("keyup",function(e){38!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode&&a.val(i.val()),o=!0});var r={disabled:n,create:function(){var e=i.autocomplete("instance");i.addClass("glassdoorAC"),e.menu.element.attr("id","SrchKey_ACPopup")},open:function(){return $("#SrchKey_ACPopup").addClass("ui-autocomplete-opened jobTermAC"),!0},source:function(e,n){var o=2,a={url:"findPopularKeywordAjax.htm",data:{siteSection:"jobs",countryId:o,term:e.term},dataType:"json",success:function(e){var o=[];$.each(e,function(e,t){var n={value:t,label:t};o.push(n)});var a=$("input.suggestCount",t);return a.val(o.length),n(o)},error:function(){}};jQuery.ajax(a)},select:function(){var e=$("input.suggestChosen",t);e.val("true"),""===a.val()&&a.val(i.val())}};if(i.length>0){var u=i.data("autoComplete");"undefined"!=typeof u&&null!==u||(u=!0),u&&(i.autocomplete(r).autocomplete("instance")._renderItem=function(e,t){return GD.ac.fmtAC(i,e,t)})}$(this).on("submit",function(){o===!1&&a.val(i.val())})})}}GD.page.siteSrch.initSrchAC&&GD.page.siteSrch.srchType&&a(GD.page.siteSrch.srchType),o(null,GD.page.siteSrch.pickBestMatch,GD.page.siteSrch.locationACEnabled,GD.page.siteSrch.locationStringFromIP)},{}],2:[function(e,t,n){t.exports=e("./lib/modules/site-search/site-search")},{"./lib/modules/site-search/site-search":1}],3:[function(e,t,n){t.exports=e("gd-modules/site-search")},{"gd-modules/site-search":2}]},{},[3]);
//# sourceMappingURL=gd-site-srch.js.map
