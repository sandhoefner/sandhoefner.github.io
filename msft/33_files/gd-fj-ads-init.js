!function e(t,n,i){function o(s,r){if(!n[s]){if(!t[s]){var d="function"==typeof require&&require;if(!r&&d)return d(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){t.exports=e("./lib/featured-jobs-init")},{"./lib/featured-jobs-init":2}],2:[function(e,t,n){"use strict";function i(e,t,n){var i=o(e,"featuredJobsAdSlot"),s=o(e,"exclusiveFeaturedJobAdSlot"),d=a(i,e,t,n),l=a(s,e,t,n);jQuery.when(d,l).always(r)}function o(e,t){var n=[],i=$("div."+t,e),o=/^adSlot\-([\w\-]+)\-holder/;return i.each(function(){for(var e=$(this),t=e.attr("class").split(" "),i=0;i<t.length;i++){var a=t[i];if(a){var s=o.exec(a);if(s&&s.length>1){var r=s[1];n.push(r)}}}}),n}function a(e,t,n,i){var o={};if(e&&e.length)try{for(var a=[],r=!1,d=0;d<e.length;d++){var l=e[d],c=$("div.adSlot-"+l+"-holder",t);if(c.length){$("div.adSlotData",c).remove(),$("div.loadingMsg",c).show();try{if(GD.page[l]){var u=GD.page[l];u.hasOwnProperty("experiment_name")&&u.hasOwnProperty("experiment_params")&&(o[l]=u.experiment_params,r||(r=!0,GD.ga.pushToDataLayer({event:"dosExperiment",analyticsCategory:"dosExperiment",analyticsAction:u.experiment_name,analyticsLabel:JSON.stringify(u.experiment_params),analyticsNonInteraction:!0,analyticsValue:0})))}}catch(g){Logger.error("Not able to trigger GA for FJ Ads DOS experiment "+g)}}var h=c.attr("data-required-ad-order-ids");h&&h.length&&a.push(h)}return f({url:"/getAdSlotContentsAjax.htm",adSlotNames:e,adSegments:n,pageRequestGuid:i,requiredAdOrderIds:a,expParams:o,onSuccess:function(e,n){s(t,e,n)}})}catch(g){Logger.error("Exception in loadAdSlotSet():"+g)}}function s(e,t,n){function i(e,t){return function(){l(e),t.off("mouseenter")}}function o(e){function t(e,t){return 13===e.keyCode?(GD.util.wait().then(function(){d(t)}),!1):!0}function n(e){$(".moreFields",e).slideDown(200)}function i(e){return $(".moreFields",e).slideUp(200),!1}GD.shim.placeholder($("input[placeholder]",e)),e.find("#FilterLocJobsAdsSlotString").length?GD.srch.initLocDisambig($(".moreFields #FilterLocJobsAdsSlot"),{locStr:$(".moreFields #FilterLocJobsAdsSlotString"),disambigParent:$(".moreFields #FilterLocJobsAdsSlotDisambigPP"),top:25,left:0,pickBestMatch:!0,doFormSubmit:function(){return d(e)}}):GD.srch.initLocDisambig($("input.jobsSearchLocation",e),{locType:$("input.jobsSearchLocationType",e),locId:$("input.jobsSearchLocationId",e),disambigParent:e,top:56,left:0,width:280,doFormSubmit:function(){return d(e)}}),$("input.jobsSearchKeyword",e).focus(function(){n(e)}),$(".toggleSearchForm").on("click",function(){e.toggle()}),$("div.buttons .gd-btn",e).click(function(t){d(e),t.preventDefault()}),$("div.buttons span.cancelLink",e).click(function(t){i(e),t.preventDefault()}),$("input.jobsSearchKeyword, input.jobsSearchLocation",e).keypress(function(n){return t(n,e)})}if(t&&t.length){var a,s=$("<div />");s.html(n);for(var r=0;r<t.length;r++)if(null===e&&(e=$("body")),a=e.find("div.adSlot-"+t[r]+"-holder"),a.length>0){var c=s.find("div.adSlotData-"+t[r]),f=c.find("form.jobsSearch");if(f.length&&o(f),c.length>0){a.hide(),$("div.adSlotJobListings",a).remove(),a.append(c);var h=c.find("ul.featuredJobsList");h.length&&"function"==typeof h.listview&&h.listview();var m=$(h[0]).not(".cf");m.on("mouseenter",i(h,m)),$("div.loadingMsg",a).hide(),a.slideDown(u);try{GD.shim.placeholder()}catch(p){}GD.jobsLink.initTargetedLinks("_job",c,!0),GD.lazyLoad(a,!0),a.find(".adminJobDetails").length>0&&g.initAdminDetails()}else{a.css("display","none");var v="<p>"+GD.i18n.msg("msgAdsNoJobs")+"</p>";a.html(v)}}else Logger.error("Ad slot '"+t[r]+"' should be on the page somewhere.  It was not found.");$("#AccountMenu").find(".toggleDetails").length>0&&!$("#AccountMenu").find(".toggleDetails").hasClass("view")?($(".adminCpcVal").removeClass("hidden"),$(".adDetailsLink").removeClass("hidden"),$(".adminFullCount").removeClass("hidden")):($(".adminCpcVal").addClass("hidden"),$(".adDetailsLink").addClass("hidden"),$(".adminFullCount").addClass("hidden"))}}function r(){GD.util.wait(u+100).then(function(){$(window).trigger(c)})}function d(e){var t=!0;return jQuery.isFunction(e[0].onsubmit)&&(t=e[0].onsubmit()),t&&e.submit(),!1}function l(e){function t(){var e=$("#DeferredAdImpressionJSON").data("deferredImpressions");return $.isEmptyObject(e)||""===e?!1:e}function n(e){var t,n="/logExpandedAdSlotImpressions.htm",i={};i.adSlotImpression=JSON.stringify(e).replace(/&/g,"&amp;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t={url:n,type:"POST",data:i,dataType:"json"},jQuery.ajax(t)}e.length>1&&(e=$(e[1]),e.slideDown(u/2));var i=t();i?n(i):GD.util.wait(500).then(function(){var e=t();e&&n(e)})}var c="feat-jobs-loaded",u=800,f=e("./featured-jobs-load"),g=e("gd-components/admin-job-details");GD.page.fjAds&&i(null,GD.page.fjAds.internalAdSegmentsAsString,GD.page.fjAds.pageRequestGuid)},{"./featured-jobs-load":3,"gd-components/admin-job-details":4}],3:[function(e,t,n){"use strict";function i(e){var t={},n={};e.url;e.hasOwnProperty("adSlotNames")&&(t.slots=e.adSlotNames.join(",")),e.hasOwnProperty("adSegments")&&e.adSegments.length&&(t.segments=e.adSegments),e.hasOwnProperty("pageRequestGuid")&&e.pageRequestGuid.length&&(t.prguid=e.pageRequestGuid),e.hasOwnProperty("requiredAdOrderIds")&&e.requiredAdOrderIds.length&&(t.adOrderIds=e.requiredAdOrderIds.join(",")),e.hasOwnProperty("expParams")&&($.each(e.expParams,function(e,t){n[e]={},n[e].sideColButtonType=t.sidecol_button_type,n[e].sideColJobsCount=t.sidecol_jobs_count,n[e].sideColShowLogo=t.sidecol_logo,n[e].sideColSearchForm=t.sidecol_search_form,n[e].mainColCols=t.maincol_cols,n[e].mainColJobsCols=t.maincol_jobs_cols,n[e].mainColJobsCount=t.maincol_jobs_count,n[e].mainColSearchForm=t.maincol_search_form,n[e].mainColPopularSearches=t.maincol_popular_searches}),t.uiOverride=JSON.stringify(n));var i={url:e.url,dataType:"html",data:t,timeout:6e4,success:function(t){e.onSuccess(e.adSlotNames,t)},error:function(){o(e.adSlotNames)}};return jQuery.ajax(i)}function o(e){if(e&&e.length)for(var t=0;t<=e.length;t++){var n=$("#"+e[t]+"-holder");if(n.length){n.css("display","none");var i="<p>"+GD.i18n.msg("msgAdsNoJobs")+"</p>";n.html(i)}}}t.exports=i},{}],4:[function(e,t,n){t.exports=e("./lib/components/admin-job-details")},{"./lib/components/admin-job-details":5}],5:[function(e,t,n){function i(e){e.hasClass("activeDetails")?(e.removeClass("activeDetails"),e.addClass("hidden",100)):(e.addClass("activeDetails"),e.gdShow())}function o(e){var t=$(".jobListings");e&&e.length&&(t=$(e)),t.length||(t=$("#JobListings"));var n=t.find(".adminJobInfo"),o=t.find(".adDetails"),a=o.find("a");n.hover(function(){$(this).siblings(".adDetails").gdShow()},function(){var e=$(this).siblings(".adDetails");e.hasClass("activeDetails")===!1&&e.addClass("hidden",500)}),n.on("click",function(){i($(this).siblings(".adDetails"))}),a.on("click",function(){$(this).parent().parent().parent().addClass("activeDetails")}),o.on("mouseover",function(){$(this).gdShow()}),o.on("mouseout",function(){$(this).hasClass("activeDetails")===!1&&$(this).addClass("hidden",500)})}t.exports={initAdminDetails:o,toggleAdminDisplay:i}},{}],6:[function(e,t,n){t.exports=e("gd-integrated-ads")},{"gd-integrated-ads":1}]},{},[6]);
//# sourceMappingURL=gd-fj-ads-init.js.map
